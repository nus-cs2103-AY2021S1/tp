@startuml
!include style.puml

box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":ReeveParser" as ReeveParser LOGIC_COLOR
participant ":QuestionCommandParser" as QuestionCommandParser LOGIC_COLOR
participant "a:AddQuestionCommand" as AddQuestionCommand LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
participant "q:UnsolvedQuestion" as Question MODEL_COLOR
participant "student:Student" as Student MODEL_COLOR
end box

[-> LogicManager : execute("question 1 a/How do birds fly?")
activate LogicManager

LogicManager -> ReeveParser : parseCommand("question 1 a/How do birds fly?")
activate ReeveParser

create QuestionCommandParser
ReeveParser -> QuestionCommandParser
activate QuestionCommandParser

QuestionCommandParser --> ReeveParser
deactivate QuestionCommandParser

ReeveParser -> QuestionCommandParser : parse("1 a/How do birds fly?")
activate QuestionCommandParser

create Question
QuestionCommandParser -> Question : UnsolvedQuestion("How do birds fly")
activate Question

Question --> QuestionCommandParser : q
deactivate Question

create AddQuestionCommand
QuestionCommandParser -> AddQuestionCommand
activate AddQuestionCommand

AddQuestionCommand --> QuestionCommandParser : a
deactivate AddQuestionCommand

QuestionCommandParser --> ReeveParser : a
deactivate QuestionCommandParser

QuestionCommandParser -[hidden]-> ReeveParser
destroy QuestionCommandParser

ReeveParser --> LogicManager : a
deactivate ReeveParser

LogicManager -> AddQuestionCommand : execute()
activate AddQuestionCommand

AddQuestionCommand -> Model : getPerson(1)
activate Model

Model --> AddQuestionCommand : student
deactivate Model

AddQuestionCommand -> Student : addQuestion(q)
activate Student

Student --> AddQuestionCommand : copy
deactivate Student

AddQuestionCommand -> Model : setPerson(student, copy)
activate Model

Student -[hidden]-> Model
destroy Student

Model --> AddQuestionCommand
deactivate Model

AddQuestionCommand --> LogicManager : result
deactivate AddQuestionCommand

AddQuestionCommand -[hidden]-> LogicManager
destroy AddQuestionCommand

[<-- LogicManager
deactivate LogicManager
@enduml
